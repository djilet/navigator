<html lang="ru">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, minimum-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>API SERVER</title>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"
            crossorigin="anonymous">
        <style>
            #content {
                max-width: 1024px;
                margin: 0 auto;
                padding: 35px 20px;
            }

            h2 {
                margin-bottom: 30px;
                padding-bottom: 5px;
                border-bottom: 3px solid #000;
            }

            h3:before {
                display: block;
                content: " ";
                position: absolute;
                top: -30px;
                left: -30px;
                right: -30px;
                height: 2px;
                border-top: 1px solid #aaa;
                box-shadow: 2px 2px 3px 0px #ddd;
            }

            h3 {
                position: relative;
                margin-top: 80px;
            }

            code {
                display: block;
                padding: 15px 0 15px 30px;
                background: #f1f2f4;
                margin-bottom: 10px;
            }

            code.inline {
                display: inline-block;
                margin: 0;
                padding: 3px 5px;
            }
            
            table.params {
                width: 100%;
            }
            table.params td,
            table.params th {
                padding: 10px 5px;
                border: 1px solid #ccc;
            }
            table.params thead tr th:nth-of-type(1) {
                width: 250px;
            }
            table.params thead tr th:nth-of-type(2) {
                width: 130px;
                text-align: center;
            }
            table.params tbody tr td:nth-of-type(1) {
                color: #0000cc;
            }
            table.params tbody tr td:nth-of-type(2) {
                width: 100px;
                text-align: center;
                color: #bd4147;
                font-weight: bold;
                font-size: 30px;
                line-height: 16px;
            }
            span.params {
                display: inline;
                color: #0000cc;
            }
        </style>
    </head>
    <body>
        <div id="content">




            <!-- /******************************************************************************************************
            * Описание API сервера
            *******************************************************************************************************/ -->
            <h2>Описание API сервера</h2>
            <h3>Адрес сервера</h3>
            <p>
                <a href="http://mobnavi.propostuplenie.ru/v2/v1">http://navigator.fokgroup.com/v1</a> + нужный раздел
                <br>Напрмер список регионов:
                <a href="http://mobnavi.propostuplenie.ru/v2/v1/regions?AuthDeviceID=11111">
                    http://mobnavi.propostuplenie.ru/v2/v1/regions?AuthDeviceID=11111
                </a>
            </p>




            <!-- /******************************************************************************************************
            * Регистрация устройства
            *******************************************************************************************************/ -->
            <h3>Регистрация устройства</h3>
            <p>
                <strong>[POST]</strong> /devices
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID  - идентификатор устройства <br>
                Client - тип устройства (ios, android)
            </code>
            <p>
                в ответе получим сектерный ключ для подписи дальнейших запросов (сама подпись пока не проверяется,
                <br>так что в остальных запросах ее нет). время жизниключа неограничено, если он уже сохранен,
                <br>то повторно запрашивать не надо. при повторном запросе будет
                <br>сгенерирован новый актуальный ключ для этого устройства.
            </p>




            <!-- /******************************************************************************************************
            * Список областей
            *******************************************************************************************************/ -->
            <h3>Список областей</h3>
            <p>
                <strong>[GET]</strong> /areas?AuthDeviceID=11111&amp;AddRegions=1
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства <br>
                AddRegions - добавить список регионов
            </code>
            <p>Параметр
                <strong>AddRegions</strong> необязателен
            </p>




            <!-- /******************************************************************************************************
            * Список областей с вузами
            *******************************************************************************************************/ -->
            <h3>Список областей с вузами</h3>
            <p>
                <strong>[GET]</strong> /areas-university?AuthDeviceID=11111&amp;&amp;RegionID=[6,8,10]&amp;DirectionID=[45,5,3]&amp;Military=1&amp;Delay=1&amp;Hostel=1&amp;Subjects[1]=12&amp;Subjects[2]=65
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства <br>
                RegionID - регион. может принимать одно значение или массив <br>
                DirectionID - направление. может принимать одно значение или массив <br>
                Military - наличие военной кафедры (значение равное 1 - да, все остальное нет) <br>
                Delay - отсрочка от армии (значение равное 1 - да, все остальное нет) <br>
                Hostel - предоставление общежития (значение равное 1 - да, все остальное нет) <br>
                Subjects - баллы ЕГЭ. Subjects[ИД_ПРЕДМЕТА]=КОЛВО_БАЛЛОВ <br>
                TitleSearch - поиск по полному и сокращенному названию университета
            </code>
            <p>
                Параметры
                <strong>RegionID</strong>,
                <strong>DirectionID</strong>,
                <strong>Military</strong>,
                <strong>Delay</strong>,
                <strong>Hostel</strong>,
                <strong>Subjects</strong> и
                <strong>TitleSearch</strong> необязательные
            </p>




            <!-- /******************************************************************************************************
            * Список регионов
            *******************************************************************************************************/ -->
            <h3>Список регионов</h3>
            <p>
                <strong>[GET]</strong> /regions?AuthDeviceID=11111
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства
            </code>




            <!-- /******************************************************************************************************
            * Список направлений
            *******************************************************************************************************/ -->
            <h3>Список направлений</h3>
            <p>
                <strong>[GET]</strong> /directions?AuthDeviceID=11111
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства
            </code>




            <!-- /******************************************************************************************************
            * Список вузов
            *******************************************************************************************************/ -->
            <h3>Список вузов</h3>
            <p>
                <strong>[GET]</strong> /universities?AuthDeviceID=11111&amp;RegionID=[1,2]&amp;DirectionID=[1,2,3]
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства <br>
                RegionID - Регионы <br>
                DirectionID - Направления
            </code>




            <!-- /******************************************************************************************************
            * Информация о вузе
            *******************************************************************************************************/ -->
            <h3>Информация о вузе</h3>
            <p>
                <strong>[GET]</strong> /universities/2?AuthDeviceID=11111
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства <br>
                UniversityID - id вуза после /universities/
            </code>
            <p>
                Параметры
                <strong>RegionID</strong> и
                <strong>DirectionID</strong> необязательные
            </p>




            <!-- /******************************************************************************************************
            * Список предметов
            *******************************************************************************************************/ -->
            <h3>Список предметов</h3>
            <p>
                <strong>[GET]</strong> /subjects?AuthDeviceID=11111&amp;RegionID=[1,2]&amp;DirectionID=[1,2,3]&amp;UniversityID=[85,84]
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства <br>
                RegionID - Регионы <br>
                DirectionID - Направления <br>
                UniversityID - Вузы
            </code>
            <p>
                Параметры
                <strong>RegionID</strong>,
                <strong>DirectionID</strong> и
                <strong>UniversityID</strong> необязательные и могут быть массивами
            </p>




            <!-- /******************************************************************************************************
            * Поиск специальностей по фильтрам
            *******************************************************************************************************/ -->
            <h3>Поиск специальностей по фильтрам</h3>
            <p>
                <strong>[GET]</strong> /specialities?AuthDeviceID=11111&amp;RegionID=[1,2]&amp;DirectionID=[1,2,3]&amp;UniversityID=[85,84]&amp;Subject1=36&amp;Subject2=30
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства <br>
                RegionID - Регионы <br>
                DirectionID - Направления <br>
                UniversityID - Вузы <br>
                SubjectX=Y - это фильтр по предмету Х с баллом Y
            </code>
            <p>
                Параметры
                <strong>RegionID</strong>,
                <strong>DirectionID</strong> и
                <strong>UniversityID</strong> необязательные и могут быть массивами.
                <br>Параметр
                <strong>SubjectX=Y</strong> необязательный
            </p>




            <!-- /******************************************************************************************************
            * Информация по специальности
            *******************************************************************************************************/ -->
            <h3>Информация по специальности</h3>
            <p>
                <strong>[GET]</strong> /specialities/1520?AuthDeviceID=11111
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства <br>
                SubjectID - записан в пути запроса после /specialities/
            </code>




            <!-- /******************************************************************************************************
            * Список направлений (категорий) подготовки
            *******************************************************************************************************/ -->
            <h3>Список направлений (категорий) подготовки</h3>
            <p>
                <strong>[GET]</strong> /types?AuthDeviceID=11111
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства
            </code>




            <!-- /******************************************************************************************************
            * Список вузов
            *******************************************************************************************************/ -->
            <h3>Список вузов</h3>
            <p>
                <strong>[GET]</strong> /universities?AuthDeviceID=11111&amp;RegionID=1&amp;TypeID=1
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства <br>
                RegionID - Регион <br>
                TypeID - Направление подготовки
            </code>
            <p>
                Параметры
                <strong>RegionID</strong> и
                <strong>TypeID</strong> необязательные и могут быть массивами
            </p>




            <!-- /******************************************************************************************************
            * Список направлений (наш), фильтрованный по вузу
            *******************************************************************************************************/ -->
            <h3>Список направлений (наш), фильтрованный по вузу</h3>
            <p>
                <strong>[GET]</strong> /directions?AuthDeviceID=11111&amp;UniversityID=23&amp;DirectionID=[25,44]&amp;Professions=1
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства <br>
                UniversityID - Вуз <br>
                DirectionID - Направление подготовки <br>
                Professions - Подгружать ли список профессий
            </code>
            <p>Параметры
                <strong>DirectionID</strong> и
                <strong>Professions</strong> необязательные
            </p>




            <!-- /******************************************************************************************************
            * Для передачи пуш-токена для клиента на сервер
            *******************************************************************************************************/ -->
            <h3>Для передачи пуш-токена для клиента на сервер</h3>
            <p>
                <strong>[PUT]</strong> /devices/11111/push/ios?AuthDeviceID=11111&amp;Token=tokencode
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства <br>
                Token - Полученный токен
            </code>
            <p>11111 - это DeviceID наш (в пути и в AuthDeviceID)</p>




            <!-- /******************************************************************************************************
            * Для передачи пуш-токена для клиента на сервер
            *******************************************************************************************************/ -->
            <h3>Сохранение информации из соцсети</h3>
            <p>
                <strong>[POST]</strong> /auth?AuthDeviceID=11111
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства <br>
                type - тип соцсети. пока только vk <br>
                id - id аккаунта в соцсети <br>
                surname - фамилия <br>
                firstname - имя <br>
                email - email <br>
                phone - телефон <br>
                city - город
            </code>
            <p>
                Параметры
                <strong>AuthDeviceID</strong>,
                <strong>type</strong>,
                <strong>id</strong> - обязательные
            </p>




            <!-- /******************************************************************************************************
            * Список профессий
            *******************************************************************************************************/ -->
            <h3>Список профессий</h3>
            <p>
                <strong>[GET]</strong> /profession?AuthDeviceID=11111&amp;DirectionID=[25,44]
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства <br>
                DirectionID - Направление
            </code>
            <p>
                Параметры
                <strong>DirectionID</strong> - не обязательные и могут быть массивом
            </p>




            <!-- /******************************************************************************************************
            * Информация по профессии
            *******************************************************************************************************/ -->
            <h3>Информация по профессии</h3>
            <p>
                <strong>[GET]</strong> /profession/2?AuthDeviceID=11111
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства <br>
                ProfessionID - записан в пути запроса после /profession/
            </code>



            <!-- /******************************************************************************************************
            * Выставка. Список выставок
            *******************************************************************************************************/ -->
            <h3>Список выставок</h3>
            <p>
                <strong>[GET]</strong> /exhibition
                <br>Параметры:
            </p>
            <table class="params">
                <thead>
                    <tr>
                        <th>Параметр</th>
                        <th>Обязательный</th>
                        <th>Описание</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>AuthDeviceID</td>
                        <td>*</td>
                        <td>идентификатор устройства</td>
                    </tr>
                </tbody>
            </table>



            <!-- /******************************************************************************************************
            * Регистрация на выставку
            *******************************************************************************************************/ -->
            <h3>Регистрация на событие</h3>
            <p>
                <strong>[POST]</strong> /eventregister/1
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства <br>
                FirstName - имя (строка) <br>
                LastName - фамилия (строка) <br>
                City - город (название, строка) <br>
                Who - кто вы (строка) <br>
                Class - класс (строка) <br>
                Phone - телефон (строка) <br>
                Email - e-mail (строка)
            </code>
            <p>Идентификатор события записан в пути запроса после /eventregister/</p>




            <!-- /******************************************************************************************************
            * Онлайн-события
            *******************************************************************************************************/ -->
            <h3>Онлайн-события</h3>
            <p>
                <strong>[GET]</strong> /online_events
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства <br>
                Date - конкретная дата, события на которую нужно найти (строка в формате yyyy-mm-dd) <br>
                DateFrom - дата с (строка в формате yyyy-mm-dd) <br>
                DateTo - дата по (строка в формате yyyy-mm-dd) <br>
                EventType - тип события (строка или массив строк, webinar/dod/public_lesson)
            </code>
            


            <!-- /******************************************************************************************************
            * Сохранение статуса устройства для онлайн-события
            *******************************************************************************************************/ -->
            <h3>Сохранение статуса устройства для онлайн-события</h3>
            <p>
                <strong>[PUT]</strong> /online_events/1/device_status
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства <br>
                Status - статус (signed - записался, watched - открывал экран просмотра видео события)
            </code>
            <p>Идентификатор онлайн-события записан в пути запроса после /online_events/</p>




            <!-- /******************************************************************************************************
            * Вход по учетным данным пользователя
            *******************************************************************************************************/ -->
            <h3>Вход по учетным данным пользователя</h3>
            <p>
                <strong>[POST]</strong> /user/auth
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства <br>
                Email - E-mail <br>
                Password - Пароль
            </code>




            <!-- /******************************************************************************************************
            * Проверка, авторизован ли девайс
            *******************************************************************************************************/ -->
            <h3>Проверка, авторизован ли девайс</h3>
            <p>
                <strong>[GET]</strong> /user/auth
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства
            </code>
            <p>Если в ответе <code class="inline">{ "Status" : true }</code>, то девайс авторизован, иначе нет</p>




            <!-- /******************************************************************************************************
            * Регистрация
            *******************************************************************************************************/ -->
            <h3>Регистрация</h3>
            <p>
                <strong>[POST]</strong> /user/auth
                <br>Параметры:
            </p>
            <code>
                AuthDeviceID - идентификатор устройства <br>
                UserName - Имя <br>
                Email - Email адрес <br>
                Phone - Телефон <br>
                WhoAmI - Кто я? (child -> Ученик, parent -> Родитель, student -> Студент) <br>
                ClassNumber - Номер класса <br>
                Pass - Пароль <br>
                PassRepeat - Повтор пароля

            </code>
            <p>Если в ответе <code class="inline">{ "Status" : true }</code>, то девайс авторизован, иначе нет</p>


        </div>
    </body>
</html>